<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Containerize a Golang App With Docker for Development and Production | Bartlomiej Mika</title><meta name=keywords content="Docker,Golang,DevOps"><meta name=description content="Do you want to write a Golang app which is containerized with Docker? The purpose of this article is to help you quickly get your Golang App containerized for development (with hot-reload) and production purposes."><meta name=author content="Bartlomiej Mika"><link rel=canonical href=https://bartlomiejmika.com/posts/2022/how-to-containerize-a-golang-app-with-docker-for-development-and-production/><meta name=google-site-verification content="UA-172742383-1"><link crossorigin=anonymous href=/assets/css/stylesheet.8b523f1730c922e314350296d83fd666efa16519ca136320a93df674d00b6325.css integrity="sha256-i1I/FzDJIuMUNQKW2D/WZu+hZRnKE2MgqT32dNALYyU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bartlomiejmika.com/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://bartlomiejmika.com/img/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://bartlomiejmika.com/img/favicon.ico><link rel=apple-touch-icon href=https://bartlomiejmika.com/img/favicon.ico><link rel=mask-icon href=https://bartlomiejmika.com/img/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-172742383-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="How to Containerize a Golang App With Docker for Development and Production"><meta property="og:description" content="Do you want to write a Golang app which is containerized with Docker? The purpose of this article is to help you quickly get your Golang App containerized for development (with hot-reload) and production purposes."><meta property="og:type" content="article"><meta property="og:url" content="https://bartlomiejmika.com/posts/2022/how-to-containerize-a-golang-app-with-docker-for-development-and-production/"><meta property="og:image" content="https://bartlomiejmika.com/img/2022/07/ian-taylor-jOqJbvo1P9g-unsplash.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-02T00:23:03-04:00"><meta property="article:modified_time" content="2022-07-02T00:23:03-04:00"><meta property="og:site_name" content="Bartlomiej Mika"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://bartlomiejmika.com/img/2022/07/ian-taylor-jOqJbvo1P9g-unsplash.jpg"><meta name=twitter:title content="How to Containerize a Golang App With Docker for Development and Production"><meta name=twitter:description content="Do you want to write a Golang app which is containerized with Docker? The purpose of this article is to help you quickly get your Golang App containerized for development (with hot-reload) and production purposes."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bartlomiejmika.com/posts/"},{"@type":"ListItem","position":2,"name":"How to Containerize a Golang App With Docker for Development and Production","item":"https://bartlomiejmika.com/posts/2022/how-to-containerize-a-golang-app-with-docker-for-development-and-production/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Containerize a Golang App With Docker for Development and Production","name":"How to Containerize a Golang App With Docker for Development and Production","description":"Do you want to write a Golang app which is containerized with Docker? The purpose of this article is to help you quickly get your Golang App containerized for development (with hot-reload) and production purposes.\n","keywords":["Docker","Golang","DevOps"],"articleBody":"Do you want to write a Golang app which is containerized with Docker? The purpose of this article is to help you quickly get your Golang App containerized for development (with hot-reload) and production purposes.\nBefore you begin Please install Docker Desktop before proceeding any further. Once installed, start the desktop app and if it works you are ready to begin.\nAlso I am assuming you have a $GOPATH directory where you put your Golang source code you are working on. Mien will be: ~/go/src/github.com/bartmika.\n… but if I am unfamiliar with Docker? Don’t worry! Docker is a mature toolset which has been around long enough for there to be plenty of great educational resources to help you learn. I recommend the following as it helped me:\nCheckout another article I wrote which will help you learn the basics:\nDocker Learning Resources for Absolute Beginners Programming With Golang Golang and Docker for Development with Hot Reloading In this section you’ll learn how to setup your Golang app for local development on your machine. The purpose of a development container is to hold all the dependencies (ex: Third-Party Packages like GORM), infrastructure (ex: Database, Memory Cache, etc) and your code in manner that assist and improves your development.\nCreate our app repo.\nmkdir mullberry-backend cd mullberry-backend go mod init github.com/bartmika/mullberry-backend Every time you want to add a dependency you would shutdown the current running container and install the dependencies. Install our dependencies as follows:\ngo get github.com/labstack/echo/v4 go get github.com/labstack/echo/v4/middleware@v4.7.2 Hold on, you need to have Golang installed locally? What’s the point of the container then? This Stackoverflow user explains it best in a discussion of setting up a Dockerfile for development purposes:\n[It] is great for when you want to package your app into a container, ready for deployment. It’s not so good for development where you want to have the source outside the container and have the running container react to changes in the source.*\nSo in essence, if you are OK with this limitation then proceed onwards!\nCreate a main.go file in the root of your project then copy and paste the following into it:\npackage main import ( \"net/http\" \"os\" \"github.com/labstack/echo/v4\" \"github.com/labstack/echo/v4/middleware\" ) func main() { e := echo.New() e.Use(middleware.Logger()) e.Use(middleware.Recover()) e.GET(\"/\", func(c echo.Context) error { return c.HTML(http.StatusOK, \"Hello, Docker! \u003c3\") }) e.GET(\"/ping\", func(c echo.Context) error { return c.JSON(http.StatusOK, struct{ Status string }{Status: \"OK\"}) }) httpPort := os.Getenv(\"HTTP_PORT\") if httpPort == \"\" { httpPort = \"8080\" } e.Logger.Fatal(e.Start(\":\" + httpPort)) } Please note, the above code was copied from “Build your Go image” via their Docker Documentation.\nBefore creating anything docker related, create a .dockerignore file and copy and paste the following contents:\nbin .dockerignore Dockerfile docker-compose.yml dev.Dockerfile dev.docker-compose.yml .env What is a .dockerignore file? In essence it’s similar to .gitignore in which certain files / folders will not be saved to the docker container and image.\nCreate the dev.Dockerfile file and copy and paste the following contents into it.\nFROM golang:1.18 # Copy application data into image COPY . /go/src/bartmika/mullberry-backend WORKDIR /go/src/bartmika/mullberry-backend COPY go.mod ./ COPY go.sum ./ RUN go mod download # Copy only `.go` files, if you want all files to be copied then replace `with `COPY . .` for the code below. COPY *.go . # Install our third-party application for hot-reloading capability. RUN [\"go\", \"get\", \"github.com/githubnemo/CompileDaemon\"] RUN [\"go\", \"install\", \"github.com/githubnemo/CompileDaemon\"] ENTRYPOINT CompileDaemon -polling -log-prefix=false -build=\"go build .\" -command=\"./mullberry-backend\" -directory=\"./\" If you read the comments above, you’ll notice the usage of CompileDaemon, whats that? In essence this is your hot-reloader! It watches your .go files in a directory and invokes go build if a file changed. So for example, you open this project in Atom IDE, make a change to the main.go file and click Save, then CompileDaemon will rebuild your Go app in the container so you see the latest build!\nCreate our dev.docker-compose.yml file:\nversion: '3.6' services: api: container_name: mullberry-backend image: mullberry-backend ports: - 8000:8080 volumes: - ./:/go/src/bartmika/mullberry-backend build: dockerfile: dev.Dockerfile Wait, why am I using the dev. prefix to these Docker file names? The reason why is because I want to distinguish the Docker files for either the production and development purposes.\nIn your terminal, start the development environment with the following command:\n$ docker-compose -f dev.docker-compose.yml up Confirm we can access it.\n$ curl localhost:8000/ You should see the following output in your terminal:\nHello, Docker! \u003c3 If you see this, congratulations you are ready to start developing! If you’d like to learn more, feel free and checkout the “Build your Go image” article via their Docker Documentation.\nGolang and Docker for Production The purpose of this section is to get your Golang app containerized and ready to be run in a production environment.\nOption 1: Single stage The easiest setup is a single stage build. The problem with this build is that your Docker image will be huge!\nTo begin, create a Dockerfile in your project root folder and copy and paste the following into it:\nFROM golang:1.18 # Copy application data into image COPY . /go/src/bartmika/mullberry-backend WORKDIR /go/src/bartmika/mullberry-backend COPY go.mod ./ COPY go.sum ./ RUN go mod download # Copy only `.go` files, if you want all files to be copied then replace `with `COPY . .` for the code below. COPY *.go . # Build our application. RUN go build -o ./bin/mullberry-backend EXPOSE 8080 # Run the application. CMD [\"./bin/mullberry-backend\"] Then run up and you should see it working:\n$ docker-compose up Option 2: Multi-stage A more complicated setup called a multi-stage build grants of disk space savings. The idea is you want to build your Golang app in one container and then move it into another more minimal container thus leaving behind the disk space heavy container.\nIf you want to give this a try, create a Dockerfile in your project root folder and copy and paste the following into it:\n## ## Build ## FROM golang:1.18-alpine as dev-env # Copy application data into image COPY . /go/src/bartmika/mullberry-backend WORKDIR /go/src/bartmika/mullberry-backend COPY go.mod ./ COPY go.sum ./ RUN go mod download # Copy only `.go` files, if you want all files to be copied then replace `with `COPY . .` for the code below. COPY *.go . # Build our application. # RUN go build -o /go/src/bartmika/mullberry-backend/bin/mullberry-backend RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -gcflags \"all=-N -l\" -o /server ## ## Deploy ## FROM alpine:latest RUN mkdir /data COPY --from=dev-env /server ./ CMD [\"./server\"] Then run up and you should see it working:\n$ docker-compose up ","wordCount":"1079","inLanguage":"en","image":"https://bartlomiejmika.com/img/2022/07/ian-taylor-jOqJbvo1P9g-unsplash.jpg","datePublished":"2022-07-02T00:23:03-04:00","dateModified":"2022-07-02T00:23:03-04:00","author":{"@type":"Person","name":"Bartlomiej Mika"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bartlomiejmika.com/posts/2022/how-to-containerize-a-golang-app-with-docker-for-development-and-production/"},"publisher":{"@type":"Organization","name":"Bartlomiej Mika","logo":{"@type":"ImageObject","url":"https://bartlomiejmika.com/img/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bartlomiejmika.com/ accesskey=h title="Bartlomiej Mika (Alt + H)"><img src=https://bartlomiejmika.com/img/bartlomiej_mika.jpeg alt=logo aria-label=logo height=35>Bartlomiej Mika</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bartlomiejmika.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://bartlomiejmika.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://bartlomiejmika.com/pages/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://bartlomiejmika.com/>Home</a>&nbsp;»&nbsp;<a href=https://bartlomiejmika.com/posts/>Posts</a></div><h1 class=post-title>How to Containerize a Golang App With Docker for Development and Production</h1><div class=post-meta><span title='2022-07-02 00:23:03 -0400 -0400'>July 2, 2022</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1079 words&nbsp;·&nbsp;Bartlomiej Mika&nbsp;|&nbsp;<a href=https://github.com/bartmika/bartlomiejmika-hugo/tree/master/content/posts/2022/how-to-containerize-a-golang-app-with-docker-for-development-and-production.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=https://bartlomiejmika.com/img/2022/07/ian-taylor-jOqJbvo1P9g-unsplash.jpg alt=Docker><p>Photo by <a href=https://unsplash.com/@carrier_lost>Ian Taylor</a> on <a href=https://unsplash.com/photos/jOqJbvo1P9g>Unsplash</a>.</p></figure><div class=post-content><p>Do you want to write a <strong>Golang</strong> app which is containerized with <strong>Docker</strong>? The purpose of this article is to help you quickly get your Golang App containerized for <strong>development</strong> (with hot-reload) and <strong>production</strong> purposes.</p><h2 id=before-you-begin>Before you begin<a hidden class=anchor aria-hidden=true href=#before-you-begin>#</a></h2><p>Please install <a href=https://www.docker.com/get-started/>Docker Desktop</a> before proceeding any further. Once installed, start the desktop app and if it works you are ready to begin.</p><p>Also I am assuming you have a <code>$GOPATH</code> directory where you put your Golang source code you are working on. Mien will be: <code>~/go/src/github.com/bartmika</code>.</p><h2 id=-but-if-i-am-unfamiliar-with-docker>&mldr; but if I am unfamiliar with Docker?<a hidden class=anchor aria-hidden=true href=#-but-if-i-am-unfamiliar-with-docker>#</a></h2><p>Don&rsquo;t worry! Docker is a mature toolset which has been around long enough for there to be plenty of great educational resources to help you learn. I recommend the following as it helped me:</p><p>Checkout another article I wrote which will help you learn the basics:</p><ul><li><a href=/posts/2021/docker-learning-resources-for-absolute-beginners-programming-with-golang/><strong>Docker Learning Resources for Absolute Beginners Programming With Golang</strong></a></li></ul><h2 id=golang-and-docker-for-development-with-hot-reloading>Golang and Docker for Development with Hot Reloading<a hidden class=anchor aria-hidden=true href=#golang-and-docker-for-development-with-hot-reloading>#</a></h2><p>In this section you&rsquo;ll learn how to setup your Golang app for local development on your machine. The purpose of a development container is to hold all the dependencies (ex: Third-Party Packages like <a href=https://gorm.io/index.html>GORM</a>), infrastructure (ex: Database, Memory Cache, etc) and your code in manner that assist and improves your development.</p><ol><li><p>Create our app repo.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>mkdir mullberry-backend
</span></span><span class=line><span class=cl><span class=nb>cd</span> mullberry-backend
</span></span><span class=line><span class=cl>go mod init github.com/bartmika/mullberry-backend
</span></span></code></pre></div></li><li><p>Every time you want to add a dependency you would shutdown the current running container and install the dependencies. Install our dependencies as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>go get github.com/labstack/echo/v4
</span></span><span class=line><span class=cl>go get github.com/labstack/echo/v4/middleware@v4.7.2
</span></span></code></pre></div></li><li><p>Hold on, you need to have Golang installed locally? What&rsquo;s the point of the container then? <a href=https://stackoverflow.com/a/71297861>This Stackoverflow</a> user explains it best in a discussion of setting up a <code>Dockerfile</code> for development purposes:</p><blockquote><p>[It] is great for when you want to package your app into a container, ready for deployment. It&rsquo;s not so good for development where you want to have the source outside the container and have the running container react to changes in the source.*</p></blockquote><p>So in essence, if you are OK with this limitation then proceed onwards!</p></li><li><p>Create a <code>main.go</code> file in the root of your project then copy and paste the following into it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;net/http&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;os&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=s>&#34;github.com/labstack/echo/v4&#34;</span>
</span></span><span class=line><span class=cl>	<span class=s>&#34;github.com/labstack/echo/v4/middleware&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>e</span> <span class=o>:=</span> <span class=nx>echo</span><span class=p>.</span><span class=nf>New</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>e</span><span class=p>.</span><span class=nf>Use</span><span class=p>(</span><span class=nx>middleware</span><span class=p>.</span><span class=nf>Logger</span><span class=p>())</span>
</span></span><span class=line><span class=cl>	<span class=nx>e</span><span class=p>.</span><span class=nf>Use</span><span class=p>(</span><span class=nx>middleware</span><span class=p>.</span><span class=nf>Recover</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>e</span><span class=p>.</span><span class=nf>GET</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>,</span> <span class=kd>func</span><span class=p>(</span><span class=nx>c</span> <span class=nx>echo</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span> <span class=kt>error</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nx>c</span><span class=p>.</span><span class=nf>HTML</span><span class=p>(</span><span class=nx>http</span><span class=p>.</span><span class=nx>StatusOK</span><span class=p>,</span> <span class=s>&#34;Hello, Docker! &lt;3&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>e</span><span class=p>.</span><span class=nf>GET</span><span class=p>(</span><span class=s>&#34;/ping&#34;</span><span class=p>,</span> <span class=kd>func</span><span class=p>(</span><span class=nx>c</span> <span class=nx>echo</span><span class=p>.</span><span class=nx>Context</span><span class=p>)</span> <span class=kt>error</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span> <span class=nx>c</span><span class=p>.</span><span class=nf>JSON</span><span class=p>(</span><span class=nx>http</span><span class=p>.</span><span class=nx>StatusOK</span><span class=p>,</span> <span class=kd>struct</span><span class=p>{</span> <span class=nx>Status</span> <span class=kt>string</span> <span class=p>}{</span><span class=nx>Status</span><span class=p>:</span> <span class=s>&#34;OK&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>	<span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>httpPort</span> <span class=o>:=</span> <span class=nx>os</span><span class=p>.</span><span class=nf>Getenv</span><span class=p>(</span><span class=s>&#34;HTTP_PORT&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>httpPort</span> <span class=o>==</span> <span class=s>&#34;&#34;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>httpPort</span> <span class=p>=</span> <span class=s>&#34;8080&#34;</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>e</span><span class=p>.</span><span class=nx>Logger</span><span class=p>.</span><span class=nf>Fatal</span><span class=p>(</span><span class=nx>e</span><span class=p>.</span><span class=nf>Start</span><span class=p>(</span><span class=s>&#34;:&#34;</span> <span class=o>+</span> <span class=nx>httpPort</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Please note, the above code was copied from <a href=https://docs.docker.com/language/golang/build-images/>&ldquo;Build your Go image&rdquo;</a> via their Docker Documentation.</p></li><li><p>Before creating anything docker related, create a <code>.dockerignore</code> file and copy and paste the following contents:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>bin
</span></span><span class=line><span class=cl>.dockerignore
</span></span><span class=line><span class=cl>Dockerfile
</span></span><span class=line><span class=cl>docker-compose.yml
</span></span><span class=line><span class=cl>dev.Dockerfile
</span></span><span class=line><span class=cl>dev.docker-compose.yml
</span></span><span class=line><span class=cl>.env
</span></span></code></pre></div><p>What is a <code>.dockerignore</code> file? In essence it&rsquo;s similar to <code>.gitignore</code> in which certain files / folders will not be saved to the docker container and image.</p></li><li><p>Create the <code>dev.Dockerfile</code> file and copy and paste the following contents into it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=k>FROM</span><span class=s> golang:1.18</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Copy application data into image</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> . /go/src/bartmika/mullberry-backend<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>WORKDIR</span><span class=s> /go/src/bartmika/mullberry-backend</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> go.mod ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> go.sum ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> go mod download<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Copy only `.go` files, if you want all files to be copied then replace `with `COPY . .` for the code below.</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> *.go .<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Install our third-party application for hot-reloading capability.</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> <span class=o>[</span><span class=s2>&#34;go&#34;</span>, <span class=s2>&#34;get&#34;</span>, <span class=s2>&#34;github.com/githubnemo/CompileDaemon&#34;</span><span class=o>]</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> <span class=o>[</span><span class=s2>&#34;go&#34;</span>, <span class=s2>&#34;install&#34;</span>, <span class=s2>&#34;github.com/githubnemo/CompileDaemon&#34;</span><span class=o>]</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>ENTRYPOINT</span> CompileDaemon -polling -log-prefix<span class=o>=</span><span class=nb>false</span> -build<span class=o>=</span><span class=s2>&#34;go build .&#34;</span> -command<span class=o>=</span><span class=s2>&#34;./mullberry-backend&#34;</span> -directory<span class=o>=</span><span class=s2>&#34;./&#34;</span><span class=err>
</span></span></span></code></pre></div><p>If you read the comments above, you&rsquo;ll notice the usage of <a href=https://github.com/githubnemo/CompileDaemon><code>CompileDaemon</code></a>, whats that? In essence this is your hot-reloader! It watches your <code>.go</code> files in a directory and invokes <code>go build</code> if a file changed. So for example, you open this project in <code>Atom</code> IDE, make a change to the <code>main.go</code> file and click <em>Save</em>, then <a href=https://github.com/githubnemo/CompileDaemon><code>CompileDaemon</code></a> will rebuild your Go app in the container so you see the latest build!</p></li><li><p>Create our <code>dev.docker-compose.yml</code> file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3.6&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>api</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>mullberry-backend</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>mullberry-backend</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=m>8000</span><span class=p>:</span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>- <span class=l>./:/go/src/bartmika/mullberry-backend</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>		</span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	        </span><span class=nt>dockerfile</span><span class=p>:</span><span class=w> </span><span class=l>dev.Dockerfile</span><span class=w>
</span></span></span></code></pre></div><p>Wait, why am I using the <code>dev.</code> prefix to these Docker file names? The reason why is because I want to distinguish the Docker files for either the <strong>production</strong> and <strong>development</strong> purposes.</p></li><li><p>In your terminal, start the development environment with the following command:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker-compose -f dev.docker-compose.yml up
</span></span></code></pre></div></li><li><p>Confirm we can access it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ curl localhost:8000/
</span></span></code></pre></div></li><li><p>You should see the following output in your terminal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Hello, Docker! &lt;3   
</span></span></code></pre></div><p>If you see this, congratulations you are ready to start developing! If you&rsquo;d like to learn more, feel free and checkout the <a href=https://docs.docker.com/language/golang/build-images/>&ldquo;Build your Go image&rdquo;</a> article via their Docker Documentation.</p></li></ol><h2 id=golang-and-docker-for-production>Golang and Docker for Production<a hidden class=anchor aria-hidden=true href=#golang-and-docker-for-production>#</a></h2><p>The purpose of this section is to get your Golang app containerized and ready to be run in a production environment.</p><h3 id=option-1-single-stage>Option 1: Single stage<a hidden class=anchor aria-hidden=true href=#option-1-single-stage>#</a></h3><p>The easiest setup is a <em>single stage build</em>. The problem with this build is that your Docker image will be <em>huge</em>!</p><p>To begin, create a <code>Dockerfile</code> in your project root folder and copy and paste the following into it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=k>FROM</span><span class=s> golang:1.18</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Copy application data into image</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> . /go/src/bartmika/mullberry-backend<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>WORKDIR</span><span class=s> /go/src/bartmika/mullberry-backend</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> go.mod ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> go.sum ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> go mod download<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Copy only `.go` files, if you want all files to be copied then replace `with `COPY . .` for the code below.</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> *.go .<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Build our application.</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> go build -o ./bin/mullberry-backend<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>EXPOSE</span><span class=s> 8080</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Run the application.</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>CMD</span> <span class=p>[</span><span class=s2>&#34;./bin/mullberry-backend&#34;</span><span class=p>]</span><span class=err>
</span></span></span></code></pre></div><p>Then run <code>up</code> and you should see it working:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker-compose up
</span></span></code></pre></div><h3 id=option-2-multi-stage>Option 2: Multi-stage<a hidden class=anchor aria-hidden=true href=#option-2-multi-stage>#</a></h3><p>A more complicated setup called a <em>multi-stage build</em> grants of disk space savings. The idea is you want to build your Golang app in one container and then move it into another more minimal container thus leaving behind the disk space heavy container.</p><p>If you want to give this a try, create a <code>Dockerfile</code> in your project root folder and copy and paste the following into it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-dockerfile data-lang=dockerfile><span class=line><span class=cl><span class=c>##</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>## Build</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>##</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>FROM</span><span class=s> golang:1.18-alpine as dev-env</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Copy application data into image</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> . /go/src/bartmika/mullberry-backend<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>WORKDIR</span><span class=s> /go/src/bartmika/mullberry-backend</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> go.mod ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> go.sum ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> go mod download<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Copy only `.go` files, if you want all files to be copied then replace `with `COPY . .` for the code below.</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> *.go .<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Build our application.</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># RUN go build -o /go/src/bartmika/mullberry-backend/bin/mullberry-backend</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> <span class=nv>CGO_ENABLED</span><span class=o>=</span><span class=m>0</span> <span class=nv>GOOS</span><span class=o>=</span>linux <span class=nv>GOARCH</span><span class=o>=</span>amd64 go build -gcflags <span class=s2>&#34;all=-N -l&#34;</span> -o /server<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>##</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>## Deploy</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>##</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>FROM</span><span class=s> alpine:latest</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> mkdir /data<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>COPY</span> --from<span class=o>=</span>dev-env /server ./<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>CMD</span> <span class=p>[</span><span class=s2>&#34;./server&#34;</span><span class=p>]</span><span class=err>
</span></span></span></code></pre></div><p>Then run <code>up</code> and you should see it working:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ docker-compose up
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://bartlomiejmika.com/tags/docker/>Docker</a></li><li><a href=https://bartlomiejmika.com/tags/golang/>Golang</a></li><li><a href=https://bartlomiejmika.com/tags/devops/>DevOps</a></li></ul><nav class=paginav><a class=prev href=https://bartlomiejmika.com/posts/2022/how-to-install-a-solar-digester/><span class=title>« Prev</span><br><span>How to Install a Solar Digester</span></a>
<a class=next href=https://bartlomiejmika.com/posts/2022/remote-health-data-uploader/><span class=title>Next »</span><br><span>Remote Health Data Uploader</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share How to Containerize a Golang App With Docker for Development and Production on twitter" href="https://twitter.com/intent/tweet/?text=How%20to%20Containerize%20a%20Golang%20App%20With%20Docker%20for%20Development%20and%20Production&url=https%3a%2f%2fbartlomiejmika.com%2fposts%2f2022%2fhow-to-containerize-a-golang-app-with-docker-for-development-and-production%2f&hashtags=Docker%2cGolang%2cDevOps"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Containerize a Golang App With Docker for Development and Production on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fbartlomiejmika.com%2fposts%2f2022%2fhow-to-containerize-a-golang-app-with-docker-for-development-and-production%2f&title=How%20to%20Containerize%20a%20Golang%20App%20With%20Docker%20for%20Development%20and%20Production&summary=How%20to%20Containerize%20a%20Golang%20App%20With%20Docker%20for%20Development%20and%20Production&source=https%3a%2f%2fbartlomiejmika.com%2fposts%2f2022%2fhow-to-containerize-a-golang-app-with-docker-for-development-and-production%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Containerize a Golang App With Docker for Development and Production on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fbartlomiejmika.com%2fposts%2f2022%2fhow-to-containerize-a-golang-app-with-docker-for-development-and-production%2f&title=How%20to%20Containerize%20a%20Golang%20App%20With%20Docker%20for%20Development%20and%20Production"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Containerize a Golang App With Docker for Development and Production on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fbartlomiejmika.com%2fposts%2f2022%2fhow-to-containerize-a-golang-app-with-docker-for-development-and-production%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Containerize a Golang App With Docker for Development and Production on whatsapp" href="https://api.whatsapp.com/send?text=How%20to%20Containerize%20a%20Golang%20App%20With%20Docker%20for%20Development%20and%20Production%20-%20https%3a%2f%2fbartlomiejmika.com%2fposts%2f2022%2fhow-to-containerize-a-golang-app-with-docker-for-development-and-production%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share How to Containerize a Golang App With Docker for Development and Production on telegram" href="https://telegram.me/share/url?text=How%20to%20Containerize%20a%20Golang%20App%20With%20Docker%20for%20Development%20and%20Production&url=https%3a%2f%2fbartlomiejmika.com%2fposts%2f2022%2fhow-to-containerize-a-golang-app-with-docker-for-development-and-production%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://bartlomiejmika.com/>Bartlomiej Mika</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>